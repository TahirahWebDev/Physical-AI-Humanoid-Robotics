"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[148],{4754:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"chapter_03_ros2_fundamentals","title":"Chapter 3: ROS 2 Fundamentals","description":"Learning Objectives","source":"@site/docs/chapter_03_ros2_fundamentals.md","sourceDirName":".","slug":"/chapter_03_ros2_fundamentals","permalink":"/Physical-AI-Humanoid-Robotics/docs/chapter_03_ros2_fundamentals","draft":false,"unlisted":false,"editUrl":"https://github.com/docs/chapter_03_ros2_fundamentals.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Chapter 2: Basics of Humanoid Robotics","permalink":"/Physical-AI-Humanoid-Robotics/docs/chapter_02_humanoid_robotics"},"next":{"title":"Chapter 4: Digital Twin Simulation (Gazebo + Isaac)","permalink":"/Physical-AI-Humanoid-Robotics/docs/chapter_04_Digital_Twin_Simulation"}}');var i=s(4848),l=s(8453);const a={},o="Chapter 3: ROS 2 Fundamentals",t={},c=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"3.1 What is ROS 2?",id:"31-what-is-ros-2",level:2},{value:"3.1.1 Why ROS 2 (vs. ROS 1)?",id:"311-why-ros-2-vs-ros-1",level:3},{value:"3.1.2 DDS: The Foundation",id:"312-dds-the-foundation",level:3},{value:"3.2 Core Concepts",id:"32-core-concepts",level:2},{value:"3.2.1 Computational Graph",id:"321-computational-graph",level:3},{value:"3.2.2 Nodes",id:"322-nodes",level:3},{value:"3.2.3 Topics (Publish-Subscribe)",id:"323-topics-publish-subscribe",level:3},{value:"3.2.4 Services (Request-Reply)",id:"324-services-request-reply",level:3},{value:"3.2.5 Actions (Goal-Based)",id:"325-actions-goal-based",level:3},{value:"3.3 ROS 2 Package Structure",id:"33-ros-2-package-structure",level:2},{value:"3.3.1 Python Package Structure",id:"331-python-package-structure",level:3},{value:"3.3.2 C++ Package Structure",id:"332-c-package-structure",level:3},{value:"3.3.3 Creating a Package",id:"333-creating-a-package",level:3},{value:"3.4 Writing Your First Node",id:"34-writing-your-first-node",level:2},{value:"3.4.1 Python Publisher",id:"341-python-publisher",level:3},{value:"3.4.2 Python Subscriber",id:"342-python-subscriber",level:3},{value:"3.4.3 C++ Publisher",id:"343-c-publisher",level:3},{value:"3.5 Message Types",id:"35-message-types",level:2},{value:"3.5.1 Common Message Packages",id:"351-common-message-packages",level:3},{value:"3.5.2 Custom Messages",id:"352-custom-messages",level:3},{value:"3.6 Parameters",id:"36-parameters",level:2},{value:"3.6.1 Declaring Parameters",id:"361-declaring-parameters",level:3},{value:"3.6.2 Setting Parameters",id:"362-setting-parameters",level:3},{value:"3.6.3 Dynamic Reconfiguration",id:"363-dynamic-reconfiguration",level:3},{value:"3.7 Launch Files",id:"37-launch-files",level:2},{value:"3.7.1 Python Launch File",id:"371-python-launch-file",level:3},{value:"3.7.2 Advanced Launch Features",id:"372-advanced-launch-features",level:3},{value:"3.8 Quality of Service (QoS)",id:"38-quality-of-service-qos",level:2},{value:"3.8.1 QoS Profiles",id:"381-qos-profiles",level:3},{value:"3.8.2 Common QoS Profiles",id:"382-common-qos-profiles",level:3},{value:"3.8.3 Predefined QoS Profiles",id:"383-predefined-qos-profiles",level:3},{value:"3.9 Essential ROS 2 Tools",id:"39-essential-ros-2-tools",level:2},{value:"3.9.1 Command-Line Tools",id:"391-command-line-tools",level:3},{value:"3.9.2 Visualization Tools",id:"392-visualization-tools",level:3},{value:"3.9.3 Debugging Tools",id:"393-debugging-tools",level:3},{value:"3.10 TF2: Coordinate Transforms",id:"310-tf2-coordinate-transforms",level:2},{value:"3.10.1 Frame Tree",id:"3101-frame-tree",level:3},{value:"3.10.2 Broadcasting Transforms",id:"3102-broadcasting-transforms",level:3},{value:"3.10.3 Listening to Transforms",id:"3103-listening-to-transforms",level:3},{value:"3.11 Building and Running",id:"311-building-and-running",level:2},{value:"3.11.1 Build Workspace",id:"3111-build-workspace",level:3},{value:"3.11.2 Build Options",id:"3112-build-options",level:3},{value:"3.11.3 Running Nodes",id:"3113-running-nodes",level:3},{value:"3.12 Best Practices",id:"312-best-practices",level:2},{value:"3.12.1 Node Design",id:"3121-node-design",level:3},{value:"3.12.2 Communication Patterns",id:"3122-communication-patterns",level:3},{value:"3.12.3 Performance",id:"3123-performance",level:3},{value:"3.12.4 Code Organization",id:"3124-code-organization",level:3},{value:"3.13 Chapter Summary",id:"313-chapter-summary",level:2},{value:"Key Takeaways",id:"key-takeaways",level:2},{value:"Further Reading",id:"further-reading",level:2}];function d(e){const n={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"chapter-3-ros-2-fundamentals",children:"Chapter 3: ROS 2 Fundamentals"})}),"\n",(0,i.jsx)(n.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,i.jsx)(n.p,{children:"By the end of this chapter, you will be able to:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Understand the architecture and design philosophy of ROS 2"}),"\n",(0,i.jsx)(n.li,{children:"Create and manage nodes, topics, services, and actions"}),"\n",(0,i.jsx)(n.li,{children:"Build ROS 2 packages with proper structure"}),"\n",(0,i.jsx)(n.li,{children:"Write publishers and subscribers in Python and C++"}),"\n",(0,i.jsx)(n.li,{children:"Use launch files to orchestrate complex robot systems"}),"\n",(0,i.jsx)(n.li,{children:"Navigate the ROS 2 ecosystem and tools"}),"\n",(0,i.jsx)(n.li,{children:"Understand Quality of Service (QoS) policies"}),"\n",(0,i.jsx)(n.li,{children:"Debug and troubleshoot ROS 2 applications"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"31-what-is-ros-2",children:"3.1 What is ROS 2?"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Robot Operating System 2 (ROS 2)"})," is an open-source middleware framework for building robot applications. Despite its name, ROS 2 is not an operating system but rather a collection of software libraries and tools that provide:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Communication infrastructure"}),": Message passing between processes"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Hardware abstraction"}),": Unified interfaces for sensors and actuators"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Package management"}),": Modular, reusable components"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Development tools"}),": Debugging, visualization, simulation"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Community ecosystem"}),": Thousands of packages and active support"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"311-why-ros-2-vs-ros-1",children:"3.1.1 Why ROS 2 (vs. ROS 1)?"}),"\n",(0,i.jsx)(n.p,{children:"ROS 1 (released 2007) was revolutionary but had limitations. ROS 2 (released 2017) addresses these:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Feature"}),(0,i.jsx)(n.th,{children:"ROS 1"}),(0,i.jsx)(n.th,{children:"ROS 2"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Communication"})}),(0,i.jsx)(n.td,{children:"Custom TCP/UDP"}),(0,i.jsx)(n.td,{children:"DDS (industry standard)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Real-time"})}),(0,i.jsx)(n.td,{children:"Limited support"}),(0,i.jsx)(n.td,{children:"Real-time capable"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Security"})}),(0,i.jsx)(n.td,{children:"None"}),(0,i.jsx)(n.td,{children:"Built-in encryption, authentication"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Multi-robot"})}),(0,i.jsx)(n.td,{children:"Difficult"}),(0,i.jsx)(n.td,{children:"Native support"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Cross-platform"})}),(0,i.jsx)(n.td,{children:"Linux-focused"}),(0,i.jsx)(n.td,{children:"Linux, Windows, macOS"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Lifecycle"})}),(0,i.jsx)(n.td,{children:"Simple start/stop"}),(0,i.jsx)(n.td,{children:"Managed lifecycle nodes"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"QoS"})}),(0,i.jsx)(n.td,{children:"Best-effort only"}),(0,i.jsx)(n.td,{children:"Configurable policies"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Python"})}),(0,i.jsx)(n.td,{children:"Python 2"}),(0,i.jsx)(n.td,{children:"Python 3"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"312-dds-the-foundation",children:"3.1.2 DDS: The Foundation"}),"\n",(0,i.jsxs)(n.p,{children:["ROS 2 uses ",(0,i.jsx)(n.strong,{children:"Data Distribution Service (DDS)"})," as its middleware:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Decentralized"}),": No master node (unlike ROS 1)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Discoverable"}),": Nodes automatically find each other"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Reliable"}),": Configurable message delivery guarantees"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Scalable"}),": Efficient multi-robot communication"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Industry-proven"}),": Used in defense, aerospace, automotive"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Popular DDS implementations:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Fast DDS"})," (eProsima) - Default in ROS 2"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Cyclone DDS"})," (Eclipse) - Lightweight alternative"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Connext DDS"})," (RTI) - Commercial, high-performance"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"32-core-concepts",children:"3.2 Core Concepts"}),"\n",(0,i.jsx)(n.h3,{id:"321-computational-graph",children:"3.2.1 Computational Graph"}),"\n",(0,i.jsxs)(n.p,{children:["ROS 2 applications form a ",(0,i.jsx)(n.strong,{children:"computational graph"})," where:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Nodes"})," are vertices (processes)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Topics/Services/Actions"})," are edges (communication)"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  topic: /cmd_vel   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Planner \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2192 \u2502  Robot   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                     \u2502 Controller\u2502\n                                \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518\n                                     \u2502\n                          topic: /odom\n                                     \u2193\n                                \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                                \u2502Localizer\u2502\n                                \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsx)(n.h3,{id:"322-nodes",children:"3.2.2 Nodes"}),"\n",(0,i.jsxs)(n.p,{children:["A ",(0,i.jsx)(n.strong,{children:"node"})," is a single-purpose executable process:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Performs one computational task (e.g., sensor driver, controller, planner)"}),"\n",(0,i.jsx)(n.li,{children:"Communicates with other nodes via topics/services/actions"}),"\n",(0,i.jsx)(n.li,{children:"Can be written in Python, C++, or other supported languages"}),"\n",(0,i.jsx)(n.li,{children:"Runs independently, enabling modularity and fault isolation"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Design Principle"}),": Keep nodes focused. One node = one responsibility."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Example Nodes"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"camera_driver"}),": Publishes camera images"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"object_detector"}),": Subscribes to images, publishes detected objects"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"motion_planner"}),": Plans trajectories to goal positions"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"motor_controller"}),": Sends commands to actuators"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"323-topics-publish-subscribe",children:"3.2.3 Topics (Publish-Subscribe)"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Topics"})," enable asynchronous, many-to-many communication:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Publisher"}),": Sends messages to a topic"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Subscriber"}),": Receives messages from a topic"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Message"}),": Typed data structure (e.g., sensor data, commands)"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Characteristics"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Asynchronous (fire-and-forget)"}),"\n",(0,i.jsx)(n.li,{children:"One-to-many or many-to-many"}),"\n",(0,i.jsx)(n.li,{children:"No acknowledgment"}),"\n",(0,i.jsx)(n.li,{children:"Best for streaming data (sensor readings, commands)"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Publisher (camera_driver)  \u2192  topic: /image  \u2192  Subscriber (object_detector)\n                                               \u2192  Subscriber (image_viewer)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"324-services-request-reply",children:"3.2.4 Services (Request-Reply)"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Services"})," enable synchronous, one-to-one communication:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Client"}),": Sends request, waits for response"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Server"}),": Processes request, returns response"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Service"}),": Defined by request and response message types"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Characteristics"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Synchronous (blocking)"}),"\n",(0,i.jsx)(n.li,{children:"One-to-one"}),"\n",(0,i.jsx)(n.li,{children:"Acknowledged"}),"\n",(0,i.jsx)(n.li,{children:"Best for infrequent, short-duration operations"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Client (planner) \u2192 service: /compute_path \u2192 Server (path_planner)\n                 \u2190 returns path\n"})}),"\n",(0,i.jsx)(n.h3,{id:"325-actions-goal-based",children:"3.2.5 Actions (Goal-Based)"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Actions"})," enable long-running, goal-oriented tasks with feedback:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Client"}),": Sends goal, receives feedback and result"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Server"}),": Executes goal, provides periodic feedback, returns result"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Action"}),": Defined by goal, feedback, and result message types"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Characteristics"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Asynchronous with feedback"}),"\n",(0,i.jsx)(n.li,{children:"Can be canceled mid-execution"}),"\n",(0,i.jsx)(n.li,{children:"Best for long-running tasks (navigation, manipulation)"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:'Client (mission_planner)\n    \u2193 sends goal\nAction Server (navigator)\n    \u2193 feedback: "50% to goal"\n    \u2193 feedback: "75% to goal"\n    \u2193 result: "Goal reached"\nClient receives result\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"33-ros-2-package-structure",children:"3.3 ROS 2 Package Structure"}),"\n",(0,i.jsxs)(n.p,{children:["A ",(0,i.jsx)(n.strong,{children:"package"})," is the organizational unit in ROS 2, containing:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Source code (Python or C++)"}),"\n",(0,i.jsx)(n.li,{children:"Configuration files"}),"\n",(0,i.jsx)(n.li,{children:"Launch files"}),"\n",(0,i.jsx)(n.li,{children:"Message/service/action definitions"}),"\n",(0,i.jsx)(n.li,{children:"Dependencies"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"331-python-package-structure",children:"3.3.1 Python Package Structure"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"my_robot_pkg/\n\u251c\u2500\u2500 package.xml          # Package metadata and dependencies\n\u251c\u2500\u2500 setup.py             # Python package setup\n\u251c\u2500\u2500 setup.cfg            # Install configuration\n\u251c\u2500\u2500 my_robot_pkg/        # Python module\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u251c\u2500\u2500 my_node.py       # Node implementation\n\u2502   \u2514\u2500\u2500 utils.py         # Helper functions\n\u251c\u2500\u2500 launch/              # Launch files\n\u2502   \u2514\u2500\u2500 my_launch.py\n\u251c\u2500\u2500 config/              # Configuration files\n\u2502   \u2514\u2500\u2500 params.yaml\n\u2514\u2500\u2500 resource/            # Resource marker\n    \u2514\u2500\u2500 my_robot_pkg\n"})}),"\n",(0,i.jsx)(n.h3,{id:"332-c-package-structure",children:"3.3.2 C++ Package Structure"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"my_robot_cpp_pkg/\n\u251c\u2500\u2500 package.xml          # Package metadata\n\u251c\u2500\u2500 CMakeLists.txt       # Build configuration\n\u251c\u2500\u2500 include/             # Header files\n\u2502   \u2514\u2500\u2500 my_robot_cpp_pkg/\n\u2502       \u2514\u2500\u2500 my_node.hpp\n\u251c\u2500\u2500 src/                 # Source files\n\u2502   \u2514\u2500\u2500 my_node.cpp\n\u251c\u2500\u2500 launch/              # Launch files\n\u2502   \u2514\u2500\u2500 my_launch.py\n\u2514\u2500\u2500 config/              # Configuration files\n    \u2514\u2500\u2500 params.yaml\n"})}),"\n",(0,i.jsx)(n.h3,{id:"333-creating-a-package",children:"3.3.3 Creating a Package"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Python Package"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ros2 pkg create --build-type ament_python my_robot_pkg --dependencies rclpy std_msgs\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"C++ Package"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ros2 pkg create --build-type ament_cmake my_robot_cpp_pkg --dependencies rclcpp std_msgs\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"34-writing-your-first-node",children:"3.4 Writing Your First Node"}),"\n",(0,i.jsx)(n.h3,{id:"341-python-publisher",children:"3.4.1 Python Publisher"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\nclass MinimalPublisher(Node):\n    def __init__(self):\n        super().__init__('minimal_publisher')\n        self.publisher_ = self.create_publisher(String, 'topic', 10)\n        self.timer = self.create_timer(0.5, self.timer_callback)\n        self.i = 0\n\n    def timer_callback(self):\n        msg = String()\n        msg.data = f'Hello World: {self.i}'\n        self.publisher_.publish(msg)\n        self.get_logger().info(f'Publishing: \"{msg.data}\"')\n        self.i += 1\n\ndef main(args=None):\n    rclpy.init(args=args)\n    node = MinimalPublisher()\n    rclpy.spin(node)\n    node.destroy_node()\n    rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Key Elements"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Node"}),": Base class for all ROS 2 nodes"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"create_publisher()"}),": Creates a publisher on a topic"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"create_timer()"}),": Periodic callback (0.5 seconds here)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"publish()"}),": Sends message to topic"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"spin()"}),": Keeps node alive, processing callbacks"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"342-python-subscriber",children:"3.4.2 Python Subscriber"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\nclass MinimalSubscriber(Node):\n    def __init__(self):\n        super().__init__('minimal_subscriber')\n        self.subscription = self.create_subscription(\n            String,\n            'topic',\n            self.listener_callback,\n            10)\n\n    def listener_callback(self, msg):\n        self.get_logger().info(f'I heard: \"{msg.data}\"')\n\ndef main(args=None):\n    rclpy.init(args=args)\n    node = MinimalSubscriber()\n    rclpy.spin(node)\n    node.destroy_node()\n    rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,i.jsx)(n.h3,{id:"343-c-publisher",children:"3.4.3 C++ Publisher"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:'#include "rclcpp/rclcpp.hpp"\n#include "std_msgs/msg/string.hpp"\n\nclass MinimalPublisher : public rclcpp::Node {\npublic:\n  MinimalPublisher() : Node("minimal_publisher"), count_(0) {\n    publisher_ = this->create_publisher<std_msgs::msg::String>("topic", 10);\n    timer_ = this->create_wall_timer(\n      std::chrono::milliseconds(500),\n      std::bind(&MinimalPublisher::timer_callback, this));\n  }\n\nprivate:\n  void timer_callback() {\n    auto message = std_msgs::msg::String();\n    message.data = "Hello, world! " + std::to_string(count_++);\n    RCLCPP_INFO(this->get_logger(), "Publishing: \'%s\'", message.data.c_str());\n    publisher_->publish(message);\n  }\n  \n  rclcpp::TimerBase::SharedPtr timer_;\n  rclcpp::Publisher<std_msgs::msg::String>::SharedPtr publisher_;\n  size_t count_;\n};\n\nint main(int argc, char * argv[]) {\n  rclcpp::init(argc, argv);\n  rclcpp::spin(std::make_shared<MinimalPublisher>());\n  rclcpp::shutdown();\n  return 0;\n}\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"35-message-types",children:"3.5 Message Types"}),"\n",(0,i.jsxs)(n.p,{children:["ROS 2 uses strongly-typed messages defined in ",(0,i.jsx)(n.code,{children:".msg"})," files."]}),"\n",(0,i.jsx)(n.h3,{id:"351-common-message-packages",children:"3.5.1 Common Message Packages"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"std_msgs"}),": Basic types"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Bool"}),", ",(0,i.jsx)(n.code,{children:"Int32"}),", ",(0,i.jsx)(n.code,{children:"Float64"}),", ",(0,i.jsx)(n.code,{children:"String"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Header"})," (timestamp + frame_id)"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"geometry_msgs"}),": Spatial types"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Point"}),", ",(0,i.jsx)(n.code,{children:"Vector3"}),", ",(0,i.jsx)(n.code,{children:"Quaternion"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Pose"}),", ",(0,i.jsx)(n.code,{children:"PoseStamped"}),", ",(0,i.jsx)(n.code,{children:"Transform"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Twist"})," (linear + angular velocity)"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"sensor_msgs"}),": Sensor data"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Image"}),", ",(0,i.jsx)(n.code,{children:"CompressedImage"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"LaserScan"}),", ",(0,i.jsx)(n.code,{children:"PointCloud2"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Imu"}),", ",(0,i.jsx)(n.code,{children:"NavSatFix"})," (GPS)"]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"JointState"})}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"nav_msgs"}),": Navigation"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Odometry"})," (robot pose + velocity)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Path"})," (sequence of poses)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"OccupancyGrid"})," (2D map)"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"352-custom-messages",children:"3.5.2 Custom Messages"}),"\n",(0,i.jsxs)(n.p,{children:["Define custom messages in ",(0,i.jsx)(n.code,{children:"msg/"})," directory:"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"msg/Person.msg"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"string name\nuint8 age\nfloat32 height\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Add to ",(0,i.jsx)(n.code,{children:"package.xml"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:"<depend>rosidl_default_generators</depend>\n<exec_depend>rosidl_default_runtime</exec_depend>\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Add to ",(0,i.jsx)(n.code,{children:"CMakeLists.txt"})," (C++) or ",(0,i.jsx)(n.code,{children:"setup.py"})," (Python)."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Usage"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from my_robot_pkg.msg import Person\n\nmsg = Person()\nmsg.name = "Alice"\nmsg.age = 30\nmsg.height = 1.65\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"36-parameters",children:"3.6 Parameters"}),"\n",(0,i.jsx)(n.p,{children:"Parameters allow runtime configuration without code changes."}),"\n",(0,i.jsx)(n.h3,{id:"361-declaring-parameters",children:"3.6.1 Declaring Parameters"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"class MyNode(Node):\n    def __init__(self):\n        super().__init__('my_node')\n        \n        # Declare parameter with default\n        self.declare_parameter('max_speed', 1.0)\n        self.declare_parameter('robot_name', 'robot1')\n        \n        # Get parameter values\n        max_speed = self.get_parameter('max_speed').value\n        robot_name = self.get_parameter('robot_name').value\n        \n        self.get_logger().info(f'Max speed: {max_speed}, Name: {robot_name}')\n"})}),"\n",(0,i.jsx)(n.h3,{id:"362-setting-parameters",children:"3.6.2 Setting Parameters"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"From command line"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ros2 run my_pkg my_node --ros-args -p max_speed:=2.0 -p robot_name:=robot2\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"From YAML file"})," (",(0,i.jsx)(n.code,{children:"config/params.yaml"}),"):"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'my_node:\n  ros__parameters:\n    max_speed: 2.5\n    robot_name: "robot3"\n'})}),"\n",(0,i.jsx)(n.p,{children:"Load in launch file:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"Node(\n    package='my_pkg',\n    executable='my_node',\n    parameters=['/path/to/params.yaml']\n)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"363-dynamic-reconfiguration",children:"3.6.3 Dynamic Reconfiguration"}),"\n",(0,i.jsx)(n.p,{children:"Parameters can be changed at runtime:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# In node\nself.add_on_set_parameters_callback(self.parameter_callback)\n\ndef parameter_callback(self, params):\n    for param in params:\n        if param.name == 'max_speed':\n            self.max_speed = param.value\n            self.get_logger().info(f'Updated max_speed to {param.value}')\n    return SetParametersResult(successful=True)\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Change from command line"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ros2 param set /my_node max_speed 3.0\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"37-launch-files",children:"3.7 Launch Files"}),"\n",(0,i.jsx)(n.p,{children:"Launch files start multiple nodes with configurations."}),"\n",(0,i.jsx)(n.h3,{id:"371-python-launch-file",children:"3.7.1 Python Launch File"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from launch import LaunchDescription\nfrom launch_ros.actions import Node\n\ndef generate_launch_description():\n    return LaunchDescription([\n        Node(\n            package='my_robot_pkg',\n            executable='sensor_driver',\n            name='camera',\n            parameters=[{'frame_rate': 30}]\n        ),\n        Node(\n            package='my_robot_pkg',\n            executable='controller',\n            name='robot_controller',\n            output='screen',\n            parameters=['/path/to/params.yaml']\n        ),\n        Node(\n            package='my_robot_pkg',\n            executable='visualizer',\n            name='viz'\n        )\n    ])\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Launch"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ros2 launch my_robot_pkg my_launch.py\n"})}),"\n",(0,i.jsx)(n.h3,{id:"372-advanced-launch-features",children:"3.7.2 Advanced Launch Features"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Include other launch files"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from launch.actions import IncludeLaunchDescription\nfrom launch.launch_description_sources import PythonLaunchDescriptionSource\n\nIncludeLaunchDescription(\n    PythonLaunchDescriptionSource('/path/to/other_launch.py')\n)\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Conditional launching"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from launch.conditions import IfCondition\nfrom launch.substitutions import LaunchConfiguration\n\nNode(\n    package='my_pkg',\n    executable='debug_node',\n    condition=IfCondition(LaunchConfiguration('debug'))\n)\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from launch.actions import DeclareLaunchArgument\n\nDeclareLaunchArgument(\n    'robot_name',\n    default_value='robot1',\n    description='Name of the robot'\n)\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"38-quality-of-service-qos",children:"3.8 Quality of Service (QoS)"}),"\n",(0,i.jsx)(n.p,{children:"QoS policies control message delivery behavior."}),"\n",(0,i.jsx)(n.h3,{id:"381-qos-profiles",children:"3.8.1 QoS Profiles"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Reliability"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"RELIABLE"}),": Guaranteed delivery (retries until acknowledged)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"BEST_EFFORT"}),": Send once, no retries (lower latency)"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Durability"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"TRANSIENT_LOCAL"}),": Store last message for late joiners"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"VOLATILE"}),": No message storage"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"History"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"KEEP_LAST(n)"}),": Keep only last n messages"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"KEEP_ALL"}),": Keep all messages (memory limited)"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Liveliness"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"AUTOMATIC"}),": Node is alive if process is running"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"MANUAL_BY_TOPIC"}),": Publisher must assert liveliness"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"382-common-qos-profiles",children:"3.8.2 Common QoS Profiles"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from rclpy.qos import QoSProfile, ReliabilityPolicy, DurabilityPolicy\n\n# Sensor data (best-effort, volatile)\nqos_sensor = QoSProfile(\n    depth=10,\n    reliability=ReliabilityPolicy.BEST_EFFORT,\n    durability=DurabilityPolicy.VOLATILE\n)\n\n# System state (reliable, transient local)\nqos_system = QoSProfile(\n    depth=10,\n    reliability=ReliabilityPolicy.RELIABLE,\n    durability=DurabilityPolicy.TRANSIENT_LOCAL\n)\n\n# Create publisher with QoS\nself.publisher_ = self.create_publisher(String, 'topic', qos_sensor)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"383-predefined-qos-profiles",children:"3.8.3 Predefined QoS Profiles"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from rclpy.qos import qos_profile_sensor_data, qos_profile_system_default\n\n# Sensor data profile (best-effort)\npub = self.create_publisher(Image, '/camera', qos_profile_sensor_data)\n\n# Default profile (reliable)\npub = self.create_publisher(String, '/status', qos_profile_system_default)\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"39-essential-ros-2-tools",children:"3.9 Essential ROS 2 Tools"}),"\n",(0,i.jsx)(n.h3,{id:"391-command-line-tools",children:"3.9.1 Command-Line Tools"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Node management"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ros2 node list                    # List running nodes\nros2 node info /my_node           # Node details\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Topic inspection"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ros2 topic list                   # List topics\nros2 topic echo /my_topic         # Print messages\nros2 topic info /my_topic         # Topic details\nros2 topic hz /my_topic           # Message rate\nros2 topic pub /cmd_vel ...       # Publish manually\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Service calls"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ros2 service list                 # List services\nros2 service call /my_service ... # Call service\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Parameter management"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ros2 param list                   # List parameters\nros2 param get /my_node my_param  # Get parameter\nros2 param set /my_node my_param value  # Set parameter\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Bag files"})," (recording/playback):"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ros2 bag record -a                # Record all topics\nros2 bag record /topic1 /topic2   # Record specific topics\nros2 bag play my_bag.db3          # Playback recording\nros2 bag info my_bag.db3          # Bag file info\n"})}),"\n",(0,i.jsx)(n.h3,{id:"392-visualization-tools",children:"3.9.2 Visualization Tools"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"RViz2"}),": 3D visualization"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ros2 run rviz2 rviz2\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Visualize robot models (URDF)"}),"\n",(0,i.jsx)(n.li,{children:"Sensor data (camera, LIDAR, point clouds)"}),"\n",(0,i.jsx)(n.li,{children:"TF transforms"}),"\n",(0,i.jsx)(n.li,{children:"Path planning"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"rqt"}),": Qt-based GUI tools"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"rqt                               # Main rqt window\nrqt_graph                         # Node/topic graph\nrqt_plot                          # Plot numeric data\nrqt_console                       # Log messages\nrqt_reconfigure                   # Dynamic reconfigure\n"})}),"\n",(0,i.jsx)(n.h3,{id:"393-debugging-tools",children:"3.9.3 Debugging Tools"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"ros2 doctor"}),": System health check"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ros2 doctor                       # Check ROS 2 setup\nros2 doctor --report              # Detailed report\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Logging levels"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ros2 run my_pkg my_node --ros-args --log-level DEBUG\n"})}),"\n",(0,i.jsx)(n.p,{children:"Levels: DEBUG, INFO, WARN, ERROR, FATAL"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"310-tf2-coordinate-transforms",children:"3.10 TF2: Coordinate Transforms"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"TF2"})," manages coordinate frame transformations between different parts of the robot."]}),"\n",(0,i.jsx)(n.h3,{id:"3101-frame-tree",children:"3.10.1 Frame Tree"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"        map\n         \u2502\n    \u250c\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2510\n   odom      camera_link\n    \u2502\nbase_link\n    \u2502\n  \u250c\u2500\u2534\u2500\u2510\nleft_wheel  right_wheel\n"})}),"\n",(0,i.jsx)(n.h3,{id:"3102-broadcasting-transforms",children:"3.10.2 Broadcasting Transforms"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from tf2_ros import TransformBroadcaster\nfrom geometry_msgs.msg import TransformStamped\n\nclass TFPublisher(Node):\n    def __init__(self):\n        super().__init__('tf_publisher')\n        self.br = TransformBroadcaster(self)\n        self.timer = self.create_timer(0.1, self.broadcast_transform)\n\n    def broadcast_transform(self):\n        t = TransformStamped()\n        t.header.stamp = self.get_clock().now().to_msg()\n        t.header.frame_id = 'base_link'\n        t.child_frame_id = 'camera_link'\n        \n        # Set translation\n        t.transform.translation.x = 0.5\n        t.transform.translation.y = 0.0\n        t.transform.translation.z = 0.3\n        \n        # Set rotation (quaternion)\n        t.transform.rotation.w = 1.0\n        \n        self.br.sendTransform(t)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"3103-listening-to-transforms",children:"3.10.3 Listening to Transforms"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from tf2_ros import TransformListener, Buffer\n\nclass TFListener(Node):\n    def __init__(self):\n        super().__init__('tf_listener')\n        self.tf_buffer = Buffer()\n        self.tf_listener = TransformListener(self.tf_buffer, self)\n        self.timer = self.create_timer(1.0, self.lookup_transform)\n\n    def lookup_transform(self):\n        try:\n            trans = self.tf_buffer.lookup_transform(\n                'base_link',\n                'camera_link',\n                rclpy.time.Time())\n            self.get_logger().info(f'Transform: {trans}')\n        except Exception as e:\n            self.get_logger().warn(f'Could not transform: {e}')\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"311-building-and-running",children:"3.11 Building and Running"}),"\n",(0,i.jsx)(n.h3,{id:"3111-build-workspace",children:"3.11.1 Build Workspace"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Create workspace\nmkdir -p ~/ros2_ws/src\ncd ~/ros2_ws/src\n\n# Create packages\nros2 pkg create my_robot_pkg --build-type ament_python\n\n# Build\ncd ~/ros2_ws\ncolcon build\n\n# Source workspace\nsource install/setup.bash\n"})}),"\n",(0,i.jsx)(n.h3,{id:"3112-build-options",children:"3.11.2 Build Options"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Build specific packages\ncolcon build --packages-select my_robot_pkg\n\n# Build with debug symbols\ncolcon build --cmake-args -DCMAKE_BUILD_TYPE=Debug\n\n# Symlink install (Python packages, no rebuild needed)\ncolcon build --symlink-install\n"})}),"\n",(0,i.jsx)(n.h3,{id:"3113-running-nodes",children:"3.11.3 Running Nodes"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Run single node\nros2 run my_robot_pkg my_node\n\n# Run with arguments\nros2 run my_robot_pkg my_node --ros-args -p param:=value\n\n# Run launch file\nros2 launch my_robot_pkg my_launch.py\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"312-best-practices",children:"3.12 Best Practices"}),"\n",(0,i.jsx)(n.h3,{id:"3121-node-design",children:"3.12.1 Node Design"}),"\n",(0,i.jsxs)(n.p,{children:["\u2705 ",(0,i.jsx)(n.strong,{children:"Single Responsibility"}),": One node, one task",(0,i.jsx)(n.br,{}),"\n","\u2705 ",(0,i.jsx)(n.strong,{children:"Reusability"}),": Write generic, configurable nodes",(0,i.jsx)(n.br,{}),"\n","\u2705 ",(0,i.jsx)(n.strong,{children:"Error Handling"}),": Graceful failure and recovery",(0,i.jsx)(n.br,{}),"\n","\u2705 ",(0,i.jsx)(n.strong,{children:"Logging"}),": Use appropriate log levels",(0,i.jsx)(n.br,{}),"\n","\u2705 ",(0,i.jsx)(n.strong,{children:"Resource Management"}),": Clean up in destructors"]}),"\n",(0,i.jsx)(n.h3,{id:"3122-communication-patterns",children:"3.12.2 Communication Patterns"}),"\n",(0,i.jsxs)(n.p,{children:["\u2705 ",(0,i.jsx)(n.strong,{children:"Topics"}),": For streaming data (sensor readings, commands)",(0,i.jsx)(n.br,{}),"\n","\u2705 ",(0,i.jsx)(n.strong,{children:"Services"}),": For infrequent, short operations (configuration, queries)",(0,i.jsx)(n.br,{}),"\n","\u2705 ",(0,i.jsx)(n.strong,{children:"Actions"}),": For long-running goals (navigation, manipulation)",(0,i.jsx)(n.br,{}),"\n","\u2705 ",(0,i.jsx)(n.strong,{children:"Parameters"}),": For configuration, not data flow"]}),"\n",(0,i.jsx)(n.h3,{id:"3123-performance",children:"3.12.3 Performance"}),"\n",(0,i.jsxs)(n.p,{children:["\u2705 ",(0,i.jsx)(n.strong,{children:"QoS"}),": Match QoS to use case (best-effort for sensors)",(0,i.jsx)(n.br,{}),"\n","\u2705 ",(0,i.jsx)(n.strong,{children:"Message Size"}),": Keep messages compact",(0,i.jsx)(n.br,{}),"\n","\u2705 ",(0,i.jsx)(n.strong,{children:"Frequency"}),": Don't publish faster than needed",(0,i.jsx)(n.br,{}),"\n","\u2705 ",(0,i.jsx)(n.strong,{children:"Zero-Copy"}),": Use intra-process communication for large data"]}),"\n",(0,i.jsx)(n.h3,{id:"3124-code-organization",children:"3.12.4 Code Organization"}),"\n",(0,i.jsxs)(n.p,{children:["\u2705 ",(0,i.jsx)(n.strong,{children:"Packages"}),": Group related functionality",(0,i.jsx)(n.br,{}),"\n","\u2705 ",(0,i.jsx)(n.strong,{children:"Namespaces"}),": Avoid topic/node name collisions",(0,i.jsx)(n.br,{}),"\n","\u2705 ",(0,i.jsx)(n.strong,{children:"Launch Files"}),": Parameterize for flexibility",(0,i.jsx)(n.br,{}),"\n","\u2705 ",(0,i.jsx)(n.strong,{children:"Documentation"}),": README, inline comments, API docs"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"313-chapter-summary",children:"3.13 Chapter Summary"}),"\n",(0,i.jsx)(n.p,{children:"ROS 2 is a middleware framework built on DDS that provides communication infrastructure, hardware abstraction, and development tools for robotics. It addresses ROS 1 limitations with real-time support, security, multi-robot capabilities, and configurable QoS."}),"\n",(0,i.jsx)(n.p,{children:"Core concepts include nodes (single-purpose processes), topics (pub-sub communication), services (request-reply), and actions (goal-based with feedback). Packages organize code, configuration, and launch files using ament build system."}),"\n",(0,i.jsx)(n.p,{children:"Message types are strongly typed and defined in standard packages like std_msgs, geometry_msgs, sensor_msgs, and nav_msgs. Custom messages can be defined for application-specific data. Parameters enable runtime configuration without code changes."}),"\n",(0,i.jsx)(n.p,{children:"Launch files orchestrate multiple nodes with configurations, supporting includes, conditions, and arguments. QoS policies control message delivery with profiles for reliability, durability, history, and liveliness."}),"\n",(0,i.jsx)(n.p,{children:"Essential tools include command-line utilities for node/topic/service/parameter inspection, bag files for recording/playback, RViz2 for 3D visualization, and rqt for GUI-based tools. TF2 manages coordinate transformations between robot frames."}),"\n",(0,i.jsx)(n.p,{children:"Best practices emphasize single-responsibility nodes, appropriate communication patterns, performance optimization through QoS, and clean code organization with proper documentation."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"key-takeaways",children:"Key Takeaways"}),"\n",(0,i.jsxs)(n.p,{children:["\u2705 ROS 2 uses DDS for decentralized, real-time, secure communication",(0,i.jsx)(n.br,{}),"\n","\u2705 Nodes communicate via topics (pub-sub), services (req-reply), actions (goals)",(0,i.jsx)(n.br,{}),"\n","\u2705 Packages organize code with ament_python or ament_cmake build types",(0,i.jsx)(n.br,{}),"\n","\u2705 Messages are strongly typed; use standard packages or define custom types",(0,i.jsx)(n.br,{}),"\n","\u2705 Parameters enable runtime configuration; declare and access in nodes",(0,i.jsx)(n.br,{}),"\n","\u2705 Launch files orchestrate multi-node systems with configurations",(0,i.jsx)(n.br,{}),"\n","\u2705 QoS policies control reliability, durability, history for different use cases",(0,i.jsx)(n.br,{}),"\n","\u2705 Essential tools: ros2 CLI, bag files, RViz2, rqt, TF2 transforms",(0,i.jsx)(n.br,{}),"\n","\u2705 Best practices: single responsibility, appropriate patterns, QoS tuning"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"further-reading",children:"Further Reading"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Official Documentation"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"ROS 2 Documentation (docs.ros.org)"}),"\n",(0,i.jsx)(n.li,{children:"ROS 2 Design (design.ros2.org)"}),"\n",(0,i.jsx)(n.li,{children:"DDS Specification (omg.org)"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Books"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:'"A Concise Introduction to Robot Programming with ROS 2" by Francisco Mart\xedn Rico'}),"\n",(0,i.jsx)(n.li,{children:'"ROS 2 Robotics Developer Guide" (Packt)'}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Tutorials"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Official ROS 2 Tutorials (docs.ros.org/en/humble/Tutorials.html)"}),"\n",(0,i.jsx)(n.li,{children:"The Construct ROS 2 Courses"}),"\n",(0,i.jsx)(n.li,{children:"ROS 2 YouTube Channel"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Community"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"ROS Discourse (discourse.ros.org)"}),"\n",(0,i.jsx)(n.li,{children:"ROS Answers (answers.ros.org)"}),"\n",(0,i.jsx)(n.li,{children:"GitHub ROS 2 Repositories"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Next Chapter"}),": Digital Twin Simulation (Gazebo + Isaac) \u2013 We'll learn to create virtual environments for testing and training robots before real-world deployment."]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>o});var r=s(6540);const i={},l=r.createContext(i);function a(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);